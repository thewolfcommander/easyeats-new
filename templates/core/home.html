{% extends 'base.html' %}

{% load static %}

{% load crispy_forms_tags %}

{% block title %}Home{% endblock title %}
{% block description %}{% endblock description %}
{% block authors %}{% endblock authors %}
{% block keywords %}{% endblock keywords %}
{% block styles %}{% endblock styles %}

{% block home %}active{% endblock home %}

{% block content %}

<!-- Modal start  here -->

{% include 'includes/modal.html' %}

<!-- Modal ends here -->


<!--================Hero Banner Section start =================-->
<section class="hero-banner">
  <div class="hero-wrapper">
    <div class="hero-left">
      <h1 class="hero-title">Enjoy the <br> best food near you</h1>
      <div class="d-sm-flex flex-wrap">
        <form action="{% url 'core:search' %}?search={{ query}}" method="get" class="w-100">
          <div class="input-group mb-3 shadow-lg" style="height: 50px;">
            <input type="text" class="form-control w-75" placeholder="Search something awesome..."
              aria-label="Recipient's username" aria-describedby="basic-addon2" style="height: 50px;" name="search">
            <div class="input-group-append w-25">
              <button type="submit" class="input-group-text w-100 text-center" id="basic-addon2"
                style="background-color: var(--main); color: #fff;">
                <center>Search</center>
              </button>
            </div>
          </div>
        </form>
      </div>
      <ul class="hero-info d-none d-lg-block">
        <li>
          <img src="{% static 'img/banner/fas-service-icon.png' %}" alt="">
          <h4>Fast Service</h4>
        </li>
        <li>
          <img src="{% static 'img/banner/fresh-food-icon.png' %}" alt="">
          <h4>Fresh Food</h4>
        </li>
        <li>
          <img src="https://i.pinimg.com/originals/fd/80/ec/fd80ecec48eba2a9adb76e4133905879.png" alt="" width="35px">
          <h4>No Minimum order</h4>
        </li>
      </ul>
    </div>
    <div class="hero-right">
      <div class="owl-carousel owl-theme hero-carousel">
        <div class="hero-carousel-item">
          <img class="img-fluid" src="{% static 'img/banner/hero-banner1.png' %}" alt="">
        </div>
        <div class="hero-carousel-item">
          <img class="img-fluid" src="{% static 'img/banner/hero-banner2.png' %}" alt="">
        </div>
        <div class="hero-carousel-item">
          <img class="img-fluid" src="{% static 'img/banner/hero-banner1.png' %}" alt="">
        </div>
        <div class="hero-carousel-item">
          <img class="img-fluid" src="{% static 'img/banner/hero-banner2.png' %}" alt="">
        </div>
      </div>
    </div>
  </div>
</section>
<!--================Hero Banner Section end =================-->

<!-- ================Reservation section start =================
<section class="bg-lightGray section-padding" style="background: url(/static/svg/13.svg) no-repeat; background-position: right;">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-6 col-xl-5 mb-4 mb-md-0">
        <div class="section-intro">
          <h4 class="intro-title">Reservation</h4>
          <h2 class="mb-3">Get experience from bestest</h2>
        </div>
        <p>Trying to plan to go out but tired of the rush on the food courts and places. Keep a perfect seat booked for
          you now and enhance your experience with us.</p>
      </div>
      <div class="col-md-6 offset-xl-2 col-xl-5">
        <div class="search-wrapper">
          <h3>Book A Table</h3>


          {% if form %}
          <form class="search-form" action="POST">
            {% csrf_token %}
            {% for field in form %}
            <div class="form-group">
              <div class="input-group">
                {{ field|as_crispy_field }}
              </div>
            </div>
            {% endfor %}
            <div class="form-group form-group-position">
              <button class="button border-0" type="submit">Make Reservation</button>
            </div>
          </form>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</section> -->
<!--================Reservation section end =================-->

<style>
  .easy-gallery {
    background: #EEE;
  }

  .easy-gallery-cell {
    width: 28%;
    height: 200px;
    margin-right: 10px;
    background: #f3f3f3;
    counter-increment: gallery-cell;
    box-shadow: 2px 0 4px rgba(0, 0, 0, 0.15);
  }

  @media screen and (max-width: 540px) {
    .easy-gallery-cell {
      width: 80%;
    }
  }
</style>

<div class="easy-gallery js-flickity"
  data-flickity='{ "cellAlign": "center", "contain": true, "freeScroll": true, "prevNextButtons": false,"pageDots": false }'>
  {% for item in foods %}
  <div class="easy-gallery-cell">
    <div class="chef-card">
      <a href="{% url 'products:food_detail' item.id %}">
        <img class="img-fluid rounded-0"
          src="{% if item.foodimage_set.first.image %}{{ item.foodimage_set.first.image.url }}{% else %}https://images.pexels.com/photos/1095550/pexels-photo-1095550.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940{% endif %}"
          alt="" style="height: 200px!important; width: 100%!important;"></a>
      <div class="chef-footer mb-5" style="">
        <a href="{% url 'products:food_detail' item.id %}">
          <h4 style="color: var(--main);">{{ item.name }}</h4>
        </a>
        <a href="{% url 'products:restaurant_detail' item.restaurant.id %}">
          <p>{{ item.restaurant.name }}</p>
        </a>
      </div>

      <div class="chef-overlay justify-content-center">
      </div>
    </div>
  </div>
  {% endfor %}
</div>

<!--================Featured Section Start =================-->
<section class="section-margin mb-lg-100"
  style="background: url(/static/svg/6.svg) no-repeat; background-position: right;">
  <div class="container">
    <div class="section-intro mb-75px">
      <h4 class="intro-title">Featured Items</h4>
      <h2>Fresh taste at great price</h2>
    </div>

    {% if featured_foods %}
    <div class="easy-gallery js-flickity"
      data-flickity='{ "cellAlign": "center", "contain": true, "freeScroll": true, "prevNextButtons": false,"pageDots": false }'>
      {% for item in featured_foods %}
      <div class="easy-gallery-cell">
        <div class="chef-card">
          <a href="{% url 'products:food_detail' item.id %}">
            <img class="img-fluid rounded-0"
              src="{% if item.foodimage_set.first.image %}{{ item.foodimage_set.first.image.url }}{% else %}https://images.pexels.com/photos/1095550/pexels-photo-1095550.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940{% endif %}"
              alt="" height="200px"></a>
          <div class="chef-footer mb-5" style="">
            <a href="{% url 'products:food_detail' item.id %}">
              <h4 style="color: var(--main);">{{ item.name }}</h4>
            </a>
            <a href="{% url 'products:restaurant_detail' item.restaurant.id %}">
              <p>{{ item.restaurant.name }}</p>
            </a>
          </div>

          <div class="chef-overlay justify-content-center">
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    {% else %}
    <p class="lead">No food items found</p>
    {% endif %}
  </div>
</section>
<!--================Featured Section End =================-->


<!--================Offer Section Start =================-->
<section class="bg-lightGray section-padding">
  <div class="container">
    <div class="row no-gutters">
      <div class="col-sm">
        <img class="card-img rounded-0" src="{% static 'img/home/offer-img.png' %}" alt="">
      </div>
      <div class="col-sm">
        <div class="offer-card offer-card-position">
          <h3>Never Before Offer</h3>
          <p class="lead">Get Free Delivery on first order | Not only this. Get upto <strong>20%</strong> OFF on every
            order</p>
          <br>
          <a class="button" href="{% url 'products:menu' %}">Read More</a>
        </div>
      </div>
    </div>
  </div>
</section>
<!--================Offer Section End =================-->


<!--================Categories Section Start =================-->
<section class="section-margin mb-lg-100">
  <div class="container">
    <div class="section-intro mb-75px">
      <h4 class="intro-title">Explore the categories</h4>
      <h2>Best suited meals, only for you</h2>
    </div>

    {% if categories %}
    <div class="owl-carousel owl-theme featured-carousel">
      {% for category in categories %}
      <div class="featured-item">
        <a href="{% url 'products:categories_detail' category.id %}">
          <img class="card-img rounded-0"
            src="{% if category.image %}{{ category.image.url }}{% else %}https://images.pexels.com/photos/958545/pexels-photo-958545.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940{% endif %}"
            alt="">
        </a>
        <div class="item-body">
          <a href="{% url 'products:categories_detail' category.id %}">
            <h3 style="color: var(--main);">{{ category.name }}</h3>
          </a>
          <div class="d-flex justify-content-left">
            <p><small>{{ category.summary }}</small></p>
          </div>
          <div class="d-flex justify-content-left">
            <p><small style="color: orange;">More than {{ category.food_set.all.count }} food items</small></p>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>

    <center><a class="button" href="{% url 'products:categories' %}">All Categories</a></center>
    {% else %}
    <p class="lead">Sorry, no categories found</p>
    {% endif %}
  </div>
</section>
<!--================Categories Section End =================-->


<!--================Restaurants section start =================-->
<section class="section-margin">
  <div class="container">
    <div class="section-intro mb-75px">
      <h4 class="intro-title">Restaurants</h4>
      <h2>Top cuisine and restaurant picks for you</h2>
    </div>

    {% if restaurants %}
    <div class="easy-gallery js-flickity"
      data-flickity='{ "cellAlign": "center", "contain": true, "freeScroll": true, "prevNextButtons": false,"pageDots": false }'>
      {% for item in featured_foods %}
      <div class="easy-gallery-cell">
        <div class="chef-card">
          <a href="{% url 'products:restaurant_detail' restaurant.id %}">
            <img class="img-fluid rounded-0"
              src="{% if restaurant.restaurantimage_set.first.image %}{{ restaurant.restaurantimage_set.first.image.url }}{% else %}https://images.pexels.com/photos/1095550/pexels-photo-1095550.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940{% endif %}"
              alt="" height="200px"></a>
          <div class="chef-footer mb-5" style="">
            <a href="{% url 'products:restaurant_detail' restaurant.id %}">
              <h4 style="color: var(--main);">{{ restaurant.name }}</h4>
            </a>
            <p><a href="{% url 'core:search' %}?search={{restaurant.city}}">{{ restaurant.city }},
                {{ restaurant.state|title }}</a></p>

            <p class="mono text-primary">{{ restaurant.food_set.all.count }} Dishes</p>
          </div>

          <div class="chef-overlay justify-content-center">
          </div>
        </div>
      </div>
      {% endfor %}
    </div>

    <center><a class="button mt-5" href="{% url 'products:restaurants' %}">All Restaurants</a></center>
    {% else %}
    <p class="lead">Sorry, no restaurants found</p>
    {% endif %}
  </div>
</section>
<!--================Restaurants section end =================-->


<!--================CTA section start =================-->
<section class="cta-area text-center">
  <div class="container">
    <p>Be first in your area to expand tremendously</p>
    <h2>Register now as a vendor and add unlimited restaurants</h2>
    <a class="button" href="{% url 'core:join_as_vendor' %}">Know more</a>
  </div>
</section>
<!--================CTA section end =================-->


<!--================Food menu section start =================-->
<section class="section-margin">
  <div class="container">
    <div class="section-intro mb-75px">
      <h4 class="intro-title">Food Menu</h4>
      <h2>Delicious food</h2>
    </div>
    {% if foods %}
    <div class="row">
      {% for item in foods %}
      <div class="col-lg-6">
        <a href="{% url 'products:food_detail' item.id %}">
          <div class="media align-items-center food-card">
            <img class="mr-3 mr-sm-4"
              src="{% if foodimage_ser.first.image %}{{ item.foodimage_set.first.image.url }}{% else %}https://images.pexels.com/photos/1095550/pexels-photo-1095550.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940{% endif %}"
              alt="" width="100px">
            <div class="media-body">
              <div class="d-flex justify-content-between food-card-title">
                <h4><a href="{% url 'products:food_detail' item.id %}" style="color: var(--main);">{{ item.name }}</a>
                </h4>

                <h3 class="price-tag"><strike
                    style="font-size: 14px!important; color: orange; margin-right: 10px;">{{ item.gross_price }}</strike>{{ item.discount_price }}
                </h3>
              </div>
              <p>{{ item.restaurant.name }}</p>
              <p class="lead" style="color: orangered">20% Off</p>
            </div>
          </div>
        </a>
      </div>
      {% endfor %}
    </div>

    <center><a class="button mt-5" href="{% url 'products:menu' %}">All Dishes</a></center>
    {% else %}
    <p class="lead">No Products found</p>
    {% endif %}
  </div>
</section>
<!--================Food menu section end =================-->

<!--================Collections section start =================-->
<section class="section-margin">
  <div class="container">
    <div class="section-intro mb-75px">
      <h4 class="intro-title">Our Collections</h4>
      <h2>Choose the right cuisine that suits you</h2>
    </div>

    {% if collections %}
    <div class="row">
      {% for collection in collections %}
      <div class="col-sm-6 col-lg-4 mb-4 mb-lg-0">
        <div class="chef-card">
          <a href="{% url 'products:collections_detail' collection.id %}">
            <img class="card-img rounded-0"
              src="{% if collection.image %}{{ collection.image.url }}{% else %}https://images.pexels.com/photos/1095550/pexels-photo-1095550.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940{% endif %}"
              alt=""></a>
          <div class="chef-footer">
            <a href="{% url 'products:collections_detail' collection.id %}">
              <h4>{{ collection.name }}</h4>
            </a>
            <p>{{ collection.summary }}</p>
          </div>

          <div class="chef-overlay justify-content-center">
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    <center><a class="button mt-5" href="{% url 'products:collections' %}">All collections</a></center>
    {% else %}
    <p class="lead">No collections found</p>
    {% endif %}

  </div>
</section>
<!--================Collections section end =================-->


<!--================About Section start =================-->
<section class="about section-margin pb-xl-70">
  <div class="container">
    <div class="row">
      <div class="col-md-6 col-xl-6 mb-5 mb-md-0 pb-5 pb-md-0">
        <div class="img-styleBox">
          <div class="styleBox-border">
            <img class="styleBox-img1 img-fluid" src="{% static 'img/home/about-img1.png' %}" alt="">
          </div>
          <img class="styleBox-img2 img-fluid" src="{% static 'img/home/about-img2.png' %}" alt="">
        </div>
      </div>
      <div class="col-md-6 pl-md-5 pl-xl-0 offset-xl-1 col-xl-5">
        <div class="section-intro mb-lg-4">
          <h4 class="intro-title">About Us</h4>
          <h2>We speak the good food language</h2>
        </div>
        <p>Living first us creepeth she'd earth second be sixth hath likeness greater image said sixth was without male
          place fowl evening an grass form living fish and rule lesser for blessed can't saw third one signs moving
          stars light divided was two you him appear midst cattle for they are gathering.</p>
        <a class="button button-shadow mt-2 mt-lg-4" href="{% url 'core:about' %}">Learn More</a>
      </div>
    </div>
  </div>
</section>
<!--================About Section End =================-->



{% endblock content %}

{% block scripts %}
{% endblock scripts %}